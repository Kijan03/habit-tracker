<!DOCTYPE html>
<html lang="ko" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="매일의 작은 성공을 기록하며 꾸준한 성장을 만들어가는 미니멀 해빗 트래커입니다. 당신의 목표 달성을 응원합니다.">
    <title>Habit Tracker - 당신의 성장을 응원합니다</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Tailwind CSS JIT 컴파일러가 동적 클래스를 인식하도록 돕는 기본 스타일 */
        body {
            background-color: var(--bg-color, #f0f2f5);
            transition: background-color 0.3s ease;
            overflow-x: hidden; /* 콘페티가 가로 스크롤을 유발하지 않도록 */
        }
        .card {
            background-color: var(--card-bg-color, #ffffff);
        }
        .text-main {
            color: var(--text-color, #1f2937);
        }
        .text-secondary {
            color: var(--text-secondary-color, #6b7280);
        }
        .progress-bar-bg {
            background-color: var(--progress-bg-color, #e5e7eb);
        }
        .progress-bar-fill {
            background-color: var(--accent-color, #34d399);
        }
        .button-accent {
             background-color: var(--accent-color, #34d399);
        }
        .button-accent:hover {
            background-color: var(--accent-hover-color, #10b981);
        }
        .streak-text {
            color: var(--streak-color, #f59e0b);
        }
        section {
            margin-top: 2.5rem;
        }
        .confetti {
            width: 10px;
            height: 10px;
            position: fixed;
            top: -10px;
            animation: fall 5s linear forwards;
            pointer-events: none;
        }
        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body class="text-main">

    <!-- 상단 광고 영역: 구글 애드센스 코드를 여기에 붙여넣으세요. -->
    <div class="w-full bg-gray-200 text-center py-4 text-gray-500 text-sm">광고 영역</div>

    <div class="container mx-auto max-w-2xl p-4 md:p-6">
        
        <header class="text-center my-8">
            <h1 id="today-date" class="text-xl font-semibold text-secondary"></h1>
            <p id="motivational-quote" class="text-2xl md:text-3xl font-bold mt-2 text-main"></p>
        </header>

        <main class="card shadow-lg rounded-2xl p-6 space-y-6">
            <div class="progress-section">
                <div class="flex justify-between items-center mb-1">
                    <span class="text-sm font-medium text-secondary">오늘의 달성률</span>
                    <span id="progress-percentage" class="text-sm font-medium text-main">0%</span>
                </div>
                <div class="w-full progress-bar-bg rounded-full h-2.5">
                    <div id="progress-bar" class="progress-bar-fill h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>

            <form id="habit-form" class="flex gap-3">
                <input type="text" id="habit-input" placeholder="새로운 습관 추가..." class="flex-grow bg-gray-100 border-2 border-transparent rounded-lg py-3 px-4 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent text-main">
                <button type="submit" class="button-accent text-white font-bold py-3 px-6 rounded-lg transition-transform transform hover:scale-105">추가</button>
            </form>

            <ul id="habit-list" class="space-y-3"></ul>
        </main>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
            <div class="card shadow-lg rounded-2xl p-4">
                <h3 class="font-bold text-center mb-3 text-main">테마 색상 변경</h3>
                <div id="theme-switcher" class="flex justify-center gap-3">
                    <button data-color="#f0f2f5" class="w-8 h-8 rounded-full bg-[#f0f2f5] border-2 border-gray-300"></button>
                    <button data-color="#1f2937" class="w-8 h-8 rounded-full bg-[#1f2937] border-2"></button>
                    <button data-color="#fefce8" class="w-8 h-8 rounded-full bg-[#fefce8] border-2"></button>
                    <button data-color="#e0e7ff" class="w-8 h-8 rounded-full bg-[#e0e7ff] border-2"></button>
                </div>
            </div>
            <div class="card shadow-lg rounded-2xl p-4 flex items-center justify-center">
                 <button id="how-to-use-btn" class="button-accent text-white font-bold py-3 px-6 rounded-lg w-full">💡 사용 방법 보기</button>
            </div>
        </div>

        <!-- 콘텐츠 섹션 -->
        <section id="tips" class="card shadow-lg rounded-2xl p-6 md:p-8">
            <h2 class="text-2xl font-bold text-center mb-6 text-main">성공적인 습관 형성을 위한 5가지 전략</h2>
            <div class="text-secondary space-y-6 prose max-w-none">
                <p>새로운 습관을 만드는 것은 단순히 '열심히 해야지'라는 다짐만으로는 부족합니다. 우리의 뇌가 새로운 행동에 저항하지 않고 자연스럽게 받아들이도록 만드는 과학적인 방법들이 있습니다. 아래 5가지 전략을 통해 당신의 목표를 현실로 만들어보세요.</p>
                
                <h3 class="font-bold text-main">1. 아주 작은 단위로 시작하세요 (2분 규칙)</h3>
                <p>제임스 클리어의 저서 '아주 작은 습관의 힘'에서 강조하는 핵심 전략입니다. '매일 책 읽기'가 목표라면 '매일 딱 한 페이지만 읽기'로, '매일 운동하기'가 목표라면 '운동복으로 갈아입기'로 시작하는 것입니다. 새로운 습관을 시작하는 데 드는 저항감을 없애는 것이 핵심입니다. 일단 시작하면, 한 페이지만 읽으려다 10분을 읽게 되고, 운동복을 입고 나면 간단한 스트레칭이라도 하게 될 가능성이 훨씬 높아집니다.</p>

                <h3 class="font-bold text-main">2. 이미 가진 습관에 새로운 습관을 붙이세요 (습관 쌓기)</h3>
                <p>새로운 습관을 위한 시간과 장소를 따로 마련하는 것은 부담스러울 수 있습니다. 대신, 이미 매일 하고 있는 기존 습관에 새로운 습관을 짝지어보세요. 예를 들어, "아침에 커피를 내린 후, 1분간 명상하기" 또는 "저녁 양치질을 한 후, 3줄 일기 쓰기"와 같은 방식입니다. 기존 습관이 새로운 습관을 실행하라는 강력한 신호(Trigger) 역할을 하게 됩니다.</p>

                <h3 class="font-bold text-main">3. 눈에 보이게 만들어 즉각적인 보상을 제공하세요</h3>
                <p>인간의 뇌는 즉각적인 보상에 강하게 반응합니다. 이 해빗 트래커에 체크하며 연속 달성(Streak) 숫자를 높여가는 것이 바로 시각적인 보상의 한 예입니다. 달력에 X 표시를 하거나, 목표 달성 시 소액을 저금하는 등 자신만의 보상 시스템을 만들어보세요. 보상은 습관을 유지하는 강력한 동력이 됩니다.</p>
                
                <h3 class="font-bold text-main">4. 환경을 디자인하여 유혹을 제거하세요</h3>
                <p>'의지력'에만 의존하는 것은 실패로 가는 지름길입니다. 건강한 식습관을 원한다면, 부엌에서 과자나 탄산음료를 모두 치워버리세요. 아침 운동을 원한다면, 잠들기 전에 운동복을 침대 옆에 두세요. 좋은 습관을 실천하기는 쉽게, 나쁜 습관을 실천하기는 어렵게 만드는 환경 설정이 의지력보다 훨씬 효과적입니다.</p>

                <h3 class="font-bold text-main">5. 하루 놓쳤다고 해서 모든 것을 망치지 마세요</h3>
                <p>완벽주의는 습관 형성의 가장 큰 적입니다. 어쩌다 하루 이틀 습관을 놓치는 것은 지극히 자연스러운 일입니다. 중요한 것은 '연속으로 두 번은 놓치지 않는다'는 마음가짐입니다. 하루 실패했더라도, "나는 실패자야"라고 자책하는 대신 "괜찮아, 내일 다시 하면 돼"라고 생각하며 다음 날 바로 습관을 이어가는 것이 장기적인 성공의 열쇠입니다.</p>
            </div>
        </section>

        <section id="about" class="card shadow-lg rounded-2xl p-6 md:p-8">
            <h2 class="text-2xl font-bold text-center mb-4 text-main">About Us</h2>
            <div class="text-secondary space-y-4">
                <p>이 해빗 트래커는 거창한 계획보다는 매일의 작은 실천이 모여 큰 변화를 만든다는 믿음으로 만들어졌습니다. 복잡한 기능 없이 오직 습관 체크라는 핵심에만 집중하여, 사용자가 부담 없이 매일 방문하여 자신의 성장을 기록하고 동기를 부여받을 수 있도록 돕는 것을 목표로 합니다.</p>
                <p class="font-semibold text-center mt-4 text-main">"어제의 나보다 조금 더 나은 오늘을 만드는 당신을 응원합니다."</p>
                 <p class="text-xs text-center mt-6"><strong>애드센스 승인 안내:</strong> 구글 애드센스 승인을 받기 위해서는 이 사이트가 <strong class="text-red-500">개인 도메인(예: yoursite.com)</strong>에 게시되어야 합니다. GitHub 페이지만으로는 일반적으로 승인이 어렵습니다.</p>
            </div>
        </section>

        <section id="privacy" class="card shadow-lg rounded-2xl p-6 md:p-8">
            <h2 class="text-2xl font-bold text-center mb-4 text-main">개인정보처리방침</h2>
            <div class="text-secondary space-y-4 text-sm">
                <p>본 사이트는 사용자의 개인정보를 매우 소중하게 생각하며, 사용자의 정보를 안전하게 보호하기 위해 최선을 다하고 있습니다. 본 개인정보처리방침은 귀하의 데이터가 어떻게 수집되고 사용되는지에 대해 설명합니다.</p>
                <h3 class="font-bold text-main">1. 수집하는 정보</h3>
                <p>본 사이트는 귀하가 입력하는 습관 목록 및 테마 설정 정보를 수집합니다. 이 외에 이름, 이메일 주소 등 식별 가능한 개인정보는 일절 수집하지 않습니다.</p>
                <h3 class="font-bold text-main">2. 정보의 저장</h3>
                <p>모든 데이터(습관 목록, 테마 설정)는 외부 서버로 전송되지 않으며, 사용자의 개인 컴퓨터, 스마트폰 등 접속한 기기 내의 <strong class="text-main">브라우저 저장소(localStorage)</strong>에만 저장됩니다. 따라서, 다른 기기에서 접속 시 데이터는 연동되지 않으며, 브라우저의 캐시나 데이터를 삭제할 경우 모든 기록이 영구적으로 삭제됩니다.</p>
                <h3 class="font-bold text-main">3. 제3자 광고</h3>
                <p>본 사이트는 구글 애드센스와 같은 제3자 광고 서비스를 이용할 수 있습니다. 이러한 광고 업체는 사용자에게 더 관련성 높은 광고를 제공하기 위해 쿠키(cookie)를 사용할 수 있습니다. 쿠키 사용을 원치 않으실 경우, 브라우저 설정을 통해 쿠키 허용을 거부할 수 있습니다.</p>
                <h3 class="font-bold text-main">4. 정책 변경</h3>
                <p>법률이나 서비스의 변경사항을 반영하기 위한 목적으로 개인정보처리방침을 수정할 수 있습니다. 변경사항이 있을 경우, 본 페이지를 통해 고지하겠습니다.</p>
            </div>
        </section>
        
        <section id="contact" class="card shadow-lg rounded-2xl p-6 md:p-8 text-center">
            <h2 class="text-2xl font-bold mb-4 text-main">Contact</h2>
            <p class="text-secondary">피드백이나 문의사항이 있으신 경우, 아래 이메일로 연락 주시기 바랍니다.</p>
            <p class="font-semibold text-main mt-2">[여기에 당신의 이메일 주소를 입력하세요]</p>
        </section>
    </div>

    <!-- 하단 광고 영역: 구글 애드센스 코드를 여기에 붙여넣으세요. -->
    <div class="w-full bg-gray-200 text-center py-4 text-gray-500 text-sm mt-8">광고 영역</div>
    
    <footer class="text-center py-8">
        <div class="flex justify-center gap-6 mb-4">
            <a href="#tips" class="text-secondary hover:text-main">습관 팁</a>
            <a href="#about" class="text-secondary hover:text-main">소개</a>
            <a href="#privacy" class="text-secondary hover:text-main">개인정보처리방침</a>
            <a href="#contact" class="text-secondary hover:text-main">문의</a>
        </div>
        <p class="text-xs text-gray-400">&copy; 2024 Habit Tracker. All Rights Reserved.</p>
    </footer>

    <!-- 모달 영역 -->
    <div id="how-to-use-modal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center p-4 z-50">
        <div class="card rounded-2xl shadow-xl max-w-lg w-full p-6 relative">
            <button class="modal-close-btn absolute top-4 right-4 text-2xl font-bold text-secondary hover:text-main">&times;</button>
            <h2 class="text-2xl font-bold text-center mb-4 text-main">해빗 트래커 사용 방법</h2>
            <div class="text-secondary space-y-3">
                <p><strong>✅ 습관 추가:</strong> 상단의 입력창에 새로운 습관을 입력하고 '추가' 버튼을 누르세요.</p>
                <p><strong>👆 습관 완료:</strong> 습관 목록의 체크박스를 클릭하여 완료 상태로 변경할 수 있습니다. 한 번 더 클릭하면 미완료 상태로 돌아갑니다.</p>
                <p><strong>🔥 연속 달성 (Streak):</strong> 습관을 연속으로 완료하면 불꽃 아이콘과 함께 숫자가 올라갑니다. 하루라도 놓치면 초기화되니 꾸준히 도전해보세요!</p>
                <p><strong>❌ 습관 삭제:</strong> 각 습관 항목의 오른쪽에 있는 '×' 버튼을 눌러 습관을 삭제할 수 있습니다.</p>
                <p><strong>🎨 테마 변경:</strong> 하단의 색상 팔레트 버튼을 클릭하여 원하는 테마로 변경할 수 있습니다. 당신만의 공간을 만들어보세요.</p>
            </div>
        </div>
    </div>
    
    <div id="celebration-modal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center p-4 z-50">
        <div class="card rounded-2xl shadow-xl max-w-lg w-full p-8 relative text-center">
            <button class="modal-close-btn absolute top-4 right-4 text-2xl font-bold text-secondary hover:text-main">&times;</button>
            <h2 class="text-3xl font-bold text-main mb-2">🎉 축하합니다! 🎉</h2>
            <p id="celebration-text" class="text-lg text-secondary mb-6"></p>
            <div class="flex gap-4">
                <button id="share-btn" class="flex-1 bg-blue-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-600">자랑하기</button>
                <button id="copy-btn" class="flex-1 bg-gray-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-600">내용 복사</button>
            </div>
        </div>
    </div>


    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // DOM 요소
        const elements = {
            date: document.getElementById('today-date'),
            quote: document.getElementById('motivational-quote'),
            progressText: document.getElementById('progress-percentage'),
            progressBar: document.getElementById('progress-bar'),
            habitForm: document.getElementById('habit-form'),
            habitInput: document.getElementById('habit-input'),
            habitList: document.getElementById('habit-list'),
            themeSwitcher: document.getElementById('theme-switcher'),
            howToUseBtn: document.getElementById('how-to-use-btn'),
            howToUseModal: document.getElementById('how-to-use-modal'),
            celebrationModal: document.getElementById('celebration-modal'),
            celebrationText: document.getElementById('celebration-text'),
            shareBtn: document.getElementById('share-btn'),
            copyBtn: document.getElementById('copy-btn'),
            modalCloseBtns: document.querySelectorAll('.modal-close-btn')
        };

        const STORAGE_KEY_HABITS = 'habitsDataV4'; // 버전 업데이트
        const STORAGE_KEY_THEME = 'themeColorV1';
        const MILESTONES = [3, 7, 14, 30, 50, 100];
        
        let state = {
            habits: [],
            lastVisitDate: getISODateString(new Date())
        };

        const quotes = [
            "성공의 비결은 시작하는 것이다.", "오늘의 작은 실천이 내일의 큰 변화를 만든다.", "어제보다 나은 오늘을 만들자.", "꾸준함이 비범함을 만든다.", "가장 큰 위험은 아무 위험도 감수하지 않는 것이다."
        ];

        // --- 유틸리티 함수 ---
        function getISODateString(date) {
            return date.getFullYear() + '-' + ('0' + (date.getMonth() + 1)).slice(-2) + '-' + ('0' + date.getDate()).slice(-2);
        }

        // --- 상태 관리 ---
        const saveState = () => localStorage.setItem(STORAGE_KEY_HABITS, JSON.stringify(state));
        const loadState = () => JSON.parse(localStorage.getItem(STORAGE_KEY_HABITS));
        const saveTheme = (color) => localStorage.setItem(STORAGE_KEY_THEME, color);
        const loadTheme = () => localStorage.getItem(STORAGE_KEY_THEME);

        // --- 렌더링 및 UI 업데이트 ---
        function applyTheme(color) {
            const isDark = (color === '#1f2937');
            document.documentElement.style.setProperty('--bg-color', color);
            document.documentElement.style.setProperty('--card-bg-color', isDark ? '#2d3748' : '#ffffff');
            document.documentElement.style.setProperty('--text-color', isDark ? '#e2e8f0' : '#1f2937');
            document.documentElement.style.setProperty('--text-secondary-color', isDark ? '#a0aec0' : '#6b7280');
            document.documentElement.style.setProperty('--progress-bg-color', isDark ? '#4a5568' : '#e5e7eb');
        }

        const updateProgressBar = () => {
            const total = state.habits.length;
            const completed = state.habits.filter(h => h.completed).length;
            const percentage = total > 0 ? Math.round((completed / total) * 100) : 0;
            elements.progressBar.style.width = `${percentage}%`;
            elements.progressText.textContent = `${percentage}%`;
        };
        
        const renderHabits = () => {
            elements.habitList.innerHTML = '';
            if (state.habits.length === 0) {
                elements.habitList.innerHTML = `<p class="text-center text-secondary">아직 등록된 습관이 없습니다. 첫 습관을 추가해보세요!</p>`;
            } else {
                state.habits.forEach((habit, index) => {
                    const isCompleted = habit.completed;
                    const li = document.createElement('li');
                    li.className = `habit-item flex items-center p-4 rounded-lg transition-all ${isCompleted ? 'bg-green-100/50' : 'card'}`;
                    li.innerHTML = `
                        <div class="flex-grow flex items-center gap-3 cursor-pointer" onclick="document.getElementById('checkbox-${index}').click()">
                            <input type="checkbox" id="checkbox-${index}" ${isCompleted ? 'checked' : ''} class="w-6 h-6 rounded-md border-2 border-gray-300 text-green-500 focus:ring-0">
                            <span class="flex-grow ${isCompleted ? 'line-through text-secondary' : 'text-main'}">${habit.name}</span>
                        </div>
                        <span class="streak-text font-bold text-sm mx-4">${habit.streak > 0 ? `🔥 ${habit.streak}` : ''}</span>
                        <button class="delete-btn text-gray-400 hover:text-red-500 text-lg">&times;</button>
                    `;
                    
                    li.querySelector('input[type="checkbox"]').addEventListener('change', () => toggleHabit(index));
                    li.querySelector('.delete-btn').addEventListener('click', (e) => {
                        e.stopPropagation();
                        deleteHabit(index);
                    });
                    elements.habitList.appendChild(li);
                });
            }
            updateProgressBar();
        };

        function displayHeaderInfo() {
            const today = new Date();
            elements.date.textContent = today.toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric' });
            elements.quote.textContent = quotes[Math.floor(Math.random() * quotes.length)];
        }
        
        // --- 모달 로직 ---
        const openModal = (modal) => {
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        };
        const closeModal = (modal) => {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        };
        
        // --- 축하 로직 ---
        function runConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.animationDelay = Math.random() * 2 + 's';
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 5000);
            }
        }
        
        function showCelebration(habit) {
            elements.celebrationText.textContent = `'${habit.name}' 습관을 ${habit.streak}일 연속으로 달성하셨어요!`;
            openModal(elements.celebrationModal);
            runConfetti();
        }

        // --- 핵심 로직 ---
        const addHabit = (name) => {
            if (name.trim() === '') return;
            state.habits.push({ name: name.trim(), completed: false, streak: 0, lastCompletedDate: null });
            saveState();
            renderHabits();
        };

        const toggleHabit = (index) => {
            const habit = state.habits[index];
            const today = getISODateString(new Date());
            const yesterday = getISODateString(new Date(Date.now() - 86400000));
            habit.completed = !habit.completed;

            if (habit.completed) {
                const previousStreak = habit.streak;
                habit.streak = habit.lastCompletedDate === yesterday ? habit.streak + 1 : 1;
                habit.lastCompletedDate = today;

                // 축하 이벤트 체크
                if (MILESTONES.includes(habit.streak) && habit.streak > previousStreak) {
                    showCelebration(habit);
                }
            } else {
                if (habit.lastCompletedDate === today) {
                    habit.streak--;
                    habit.lastCompletedDate = habit.streak > 0 ? yesterday : null;
                }
            }
            saveState();
            renderHabits();
        };

        const deleteHabit = (index) => {
            state.habits.splice(index, 1);
            saveState();
            renderHabits();
        };

        const initializeState = () => {
            const loaded = loadState();
            const today = getISODateString(new Date());
            const yesterday = getISODateString(new Date(Date.now() - 86400000));
            
            if (loaded) {
                state = loaded;
                if (state.lastVisitDate !== today) {
                    state.habits.forEach(habit => {
                        if (habit.completed && habit.lastCompletedDate !== today) {
                             // 이전 방문 시 체크된 항목 처리
                        } else if (!habit.completed && habit.lastCompletedDate !== yesterday) {
                            habit.streak = 0;
                        }
                        habit.completed = false;
                    });
                    state.lastVisitDate = today;
                }
            }
            saveState();
        };

        // --- 이벤트 리스너 ---
        elements.habitForm.addEventListener('submit', (e) => {
            e.preventDefault();
            addHabit(elements.habitInput.value);
            elements.habitInput.value = '';
        });

        elements.themeSwitcher.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                const color = e.target.dataset.color;
                applyTheme(color);
                saveTheme(color);
            }
        });
        
        elements.howToUseBtn.addEventListener('click', () => openModal(elements.howToUseModal));
        
        elements.modalCloseBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                closeModal(elements.howToUseModal);
                closeModal(elements.celebrationModal);
            });
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal(elements.howToUseModal);
                closeModal(elements.celebrationModal);
            }
        });
        
        // 공유 및 복사 버튼 이벤트
        const getShareText = () => `🎉 '${state.habits.find(h => MILESTONES.includes(h.streak))?.name}' 습관을 ${state.habits.find(h => MILESTONES.includes(h.streak))?.streak}일 연속으로 달성했습니다! #해빗트래커`;

        elements.shareBtn.addEventListener('click', () => {
            const shareText = getShareText();
            if (navigator.share) {
                navigator.share({
                    title: '습관 달성!',
                    text: shareText,
                }).catch(console.error);
            } else {
                alert("이 브라우저에서는 공유하기가 지원되지 않습니다. '내용 복사'를 이용해주세요.");
            }
        });

        elements.copyBtn.addEventListener('click', () => {
            const shareText = getShareText();
            navigator.clipboard.writeText(shareText).then(() => {
                const originalText = elements.copyBtn.textContent;
                elements.copyBtn.textContent = '복사 완료!';
                setTimeout(() => {
                    elements.copyBtn.textContent = originalText;
                }, 2000);
            });
        });

        // --- 초기화 ---
        function init() {
            const savedTheme = loadTheme();
            if (savedTheme) {
                applyTheme(savedTheme);
            } else {
                applyTheme('#f0f2f5'); // 기본 테마
            }
            displayHeaderInfo();
            initializeState();
            renderHabits();
        }

        init();
    });
    </script>
</body>
</html>

